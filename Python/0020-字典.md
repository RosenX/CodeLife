# 字典

1. 字典推导类列表推导类似：`squares = {number: number ** 2 for number in range(100)}`

2. python3的keys(), values(), items()返回的是视图对象，当字典的内容发生变化时，这些函数返回的值也会发生变化。视图不会保存值在内存中。
3. cpython中使用伪随机探测的散列表作为字典的数据结构，采用开放寻址法解决冲突。

4. 只有可hash的对象才能作为字典的key。如果一个对象有一个在整个生命周期都不变的散列值，而且这个值能与其他对象进行比较，那么这个对象就是可hash的。python中通过实现了`__hash__`和`__eq__`方法实现对象hash。

5. 因为hash会存在冲突，如果是自定义对象，hash方法不好，添加、获取、删除元素的复杂度可能会很高，最高是O(n)

6. 在复制和遍历操作中，最坏复杂度O(n)中的n是字典曾经达到过的最大元素数量（开放寻址散列表删除只能打标记，不能直接删，否则会影响后面的查找），而不是当前元素数目。因此如果词典元素曾经大大减少过，遍历或者复制字典最好还是创建一个新对象。

7. collections模块中OrderedDict输出时键是有序的