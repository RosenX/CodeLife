## GDB调试-小技巧

## 添加源码

一般线上运行的程序里面是不带源码的，但是如果没有源码调试起来非常困难，可以通过dir命令添加源码路径：

```shell
> dir dirname
```

## 边看源码边调试

使用`layout src`命令可以打开源码窗口，并且会高亮当前语句

## 使用debug模式编译源码

如果不指定debug模式，代码会被编译器优化，要查看某个值时会显示optimizer out。

- 如果使用bazel：`-c dbg`
- 如果使用g++: `-g -O0`