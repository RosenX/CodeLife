# 冷启

B站ShusenWang视频笔记（小红书举例）

## 为什么要做冷启

1. 新笔记交互数据少，难推荐，要单独处理
2. 扶持新发布、低曝光的笔记可以增强作者发布意愿

## 优化目标

1. 精准推荐，推荐给合适用户，至少不引起反感
2. 激励发布，流量像低曝光新笔记倾斜，激励作者发布，增大内容池
3. 挖掘高潜，给每个新笔记机会，通过试探曝光，挖掘高潜，成长为热门

## 评价指标

作者侧指标，反映作者积极性
1. 发布渗透率：当日发布人数(一篇或以上)/日活人数
2. 人均发布量：当日发布的笔记数/日活人数

经验：新笔记获得的曝光越多，首次曝光和交互出现得越早，作者发布积极性越高

用户侧指标：
1. 新笔记消费指标：点击率、交互率。由于头部效应，需要区分高曝光(如大于1000)和低曝光笔记(如小于1000)
2. 大盘消费指标：消费时长、日活、月活。冷启保证大盘指标不降。

内容侧指标：
1. 高热笔记占比：如前30天获得1000+点击的笔记，越高越好

## 召回

### 召回底池

多个召回池，1小时，3小时，1天，30天等等

### 召回算法

双塔模型召回：1）新笔记共享一个default embedding；2）利用相似笔记embedding向量，寻找topK高曝光笔记,embeding求平均


类目、关键词召回：按发布时间倒排，取topK。缺点：只对新笔记有效，老笔记会失效。不够精准。


聚类召回：将笔记映射到向量，对笔记向量做聚类(如1000)，新笔记发布后，计算到1000个cluster的距离，添加到cluster->笔记(按时间排序)索引。缺点同类目召回。
1. 给定用户ID，取last-n笔记
2. 计算last-n笔记cluster
3. 每个cluster召回m篇笔记


lookalike人群扩散召回：UserCF，Embedding向量cosine相似度
1. 取对新笔记有交互的用户作为种子用户，embedding求平均当做新笔记embedding
2. 线上近邻召回

## 流量调控

1. 强插
2. 排序分数提全(boost)：粗排、重排。缺点：曝光量对提全系数很敏感，很难控制曝光量。
3. 通过提权，对新笔记做保量。如保证24小时获得100次曝光，动态提全，提全系数:$f(发布时间/目标时间，已有曝光/目标曝光)=f(0.5, 0.2)$。会经常失败，可能是链路没有优化好，也可能是线上环境变化了。
4. 差异化保量。不同笔记有不同的保量目标，如普通笔记近24h100次，优质笔记近24h500次。


## AB测试

1. 用户侧指标：以保量来说，观测指标会不准，因为在实验组上保量100次只对小流量生效，但是全量后会对所有用户生效，影响会变小。
2. 作者侧实验：方案1）新笔记按作者分组，缺陷：由于在物料侧做实验，物料之间会抢流量，物料策略的差异导致效果的差异。但全量后新笔记策略一样，差异消失。新老笔记抢流量也会有这样的问题。方案2）用户和新笔记都分组，缺陷：用户看到的物料变少，推荐用户的优质物料变少，体验变差。